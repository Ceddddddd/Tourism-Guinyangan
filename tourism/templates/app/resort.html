{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Explore Destinations - Travel Agency</title>
  <link rel="stylesheet" href="{% static 'app/css/card.css' %}">
  <link rel="stylesheet" href="{% static 'app/css/tourist_page.css' %}">
</head>

<body>
  <nav class="navbar">
    <a href="{% url 'home' %}" class="navbar-brand m-1 text-light">Go back</a>
  </nav>

  <!-- Tabs Navigation -->
  <div class="container py-3 mt-5">
    <div class="tabs">
      <button class="tab-btn active" onclick="showTab('resorts')">Resorts</button>
      <button class="tab-btn" onclick="showTab('falls')">Falls</button>
      <button class="tab-btn" onclick="showTab('restaurants')">Restaurants</button>
      <button class="tab-btn" onclick="showTab('cultural')">Cultural Attractions</button>
    </div>

    <!-- Resorts Tab Content -->
    <div id="resorts" class="tab-content active">
      {% for resort in resorts %}
        {% if resort.owner.is_verified %}
        <article class="postcard light green">
          <a class="postcard__img_link" href="#">
            <!-- Check if image_1 has a file associated with it -->
            {% if resort.image_1 %}
              <img class="postcard__img" src="{{ resort.image_1.url }}" alt="Image of {{ resort.name }}" />
            {% else %}
              <img class="postcard__img" src="{% static 'app/images/placeholder.png' %}" alt="No image available" />
            {% endif %}
          </a>
          <div class="postcard__text t-dark">
            <h1 class="postcard__title green"><a href="{% url 'resort_detail' resort.id %}">{{ resort.name }}</a></h1>
            <div class="postcard__subtitle small">
              <i class="fas fa-calendar-alt mr-2"></i>{{ resort.location }}
            </div>
            <div class="postcard__bar"></div>
            <div class="postcard__preview-txt">{{ resort.description }}</div>
            <ul class="postcard__tagbox">
              <li class="tag__item"><i class="fas fa-tag mr-2"></i>+{{ resort.phone }}</li>
              <li class="tag__item"><i class="fas fa-clock mr-2"></i>{{ resort.facebook }}</li>
              <li class="tag__item play green">
                <a href="{% url 'resort_detail' resort.id %}"><i class="fas fa-play mr-2"></i>Read more</a>
              </li>
            </ul>
          </div>
        </article>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Falls Tab Content -->
    <div id="falls" class="tab-content">
      <!-- Falls content similar to resorts; replace 'resorts' with 'falls' data loop -->
    </div>

    <!-- Restaurants Tab Content -->
    <div id="restaurants" class="tab-content">
      <!-- Restaurants content similar to resorts; replace 'resorts' with 'restaurants' data loop -->
    </div>

    <!-- Cultural Attractions Tab Content -->
    <div id="cultural" class="tab-content">
      <!-- Cultural attractions content similar to resorts; replace 'resorts' with 'cultural' data loop -->
    </div>
  </div>

  <!-- JavaScript for Tab Switching -->
  <script>
    function showTab(tabId) {
      // Hide all tab content
      const contents = document.querySelectorAll('.tab-content');
      contents.forEach(content => content.classList.remove('active'));

      // Remove active class from all buttons
      const buttons = document.querySelectorAll('.tab-btn');
      buttons.forEach(button => button.classList.remove('active'));

      // Show selected tab content and mark button as active
      document.getElementById(tabId).classList.add('active');
      document.querySelector(`[onclick="showTab('${tabId}')"]`).classList.add('active');
    }
  </script>

  <!-- Additional styling for tabs -->
  <style>
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: center;
    }
    .tab-btn {
      padding: 10px 20px;
      background: #4CAF50;
      border: none;
      color: white;
      cursor: pointer;
    }
    .tab-btn.active {
      background: #333;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
  </style>
</body>
</html>
